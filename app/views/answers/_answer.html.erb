<div id="<%= dom_id(answer) %>" class="p-4 mb-4 bg-white border border-gray-200 rounded-lg shadow-sm dark:bg-gray-800 dark:border-gray-700">
  <div class="flex justify-between items-start">
    <div class="flex-1">
      <p class="text-gray-700 dark:text-gray-300 mb-2"><%= simple_format(answer.body) %></p>
      <div class="text-sm text-gray-500 dark:text-gray-400">
        <span>Answered by <%= answer.user&.name || "Unknown" %></span>
        <span class="ml-2"><%= time_ago_in_words(answer.created_at) %> ago</span>
        <% if answer.best? %>
          <span class="ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full dark:bg-green-900 dark:text-green-300">
            Best Answer
          </span>
        <% end %>
      </div>
    </div>
    
    <% if user_signed_in? %>
      <div class="flex space-x-2 ml-4">
        <% if current_user.author_of?(answer.question) && !answer.best? %>
          <%= button_to "Mark as Best", set_best_answer_path(answer), 
              method: :patch, 
              class: "text-sm text-green-600 hover:text-green-800 dark:text-green-400",
              data: { turbo_method: :patch } %>
        <% end %>
        
        <% if current_user.author_of?(answer) %>
          <%= link_to "Edit", "#", 
              class: "text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400",
              data: { turbo_frame: dom_id(answer, :edit) } %>
          <%= button_to "Delete", answer_path(answer), 
              method: :delete, 
              class: "text-sm text-red-600 hover:text-red-800 dark:text-red-400",
              data: { turbo_method: :delete, turbo_confirm: "Are you sure?" } %>
        <% end %>
      </div>
    <% end %>
  </div>

  <%= turbo_frame_tag dom_id(answer, :edit) do %>
    <%= render "answers/form", answer: answer %>
  <% end %>
</div>
